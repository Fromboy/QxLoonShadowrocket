# å®˜æ–¹æ–‡æ¡£ï¼šhttps://doc.egernapp.com
# æœ€åæ›´æ–°æ—¶é—´: 2025-09-11
# Egern Version â‰¥ v2.0.0(552)
# Egern ç®€æ´é…ç½®ï¼Œåªæœ‰å›½å†…ğŸ‡¨ğŸ‡³å’Œä»£ç†ğŸŒ 
# åˆ†æµåº“ = https://github.com/Repcz/Tool/tree/X/Egern/Rules
# åœ¨æ‰‹åŠ¨ç­–ç•¥ã€Šã€ˆ æ·»åŠ URLå“ªé‡Œå¡«å†™è‡ªå·±çš„è®¢é˜… ã€‰ã€‹å“ªé‡Œâœï¸è‡ªå·±çš„æœºåœºè®¢é˜…åœ°å€å¼€å§‹æ„‰å¿«çš„å†²æµªå§
# Egern url = https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/Egern.yaml
# Egernsmall url = https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/EgernSmall.yaml
# Egern Lite url = https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/EgernLite.yaml
# Egern- Auto url = https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/Egern-Auto.yaml
# ================================
ipv6: true
http_port: 3080
socks_port: 3090
allow_external_connections: true
vif_only: true
geoip_db_url: https://github.com/xream/geoip/releases/latest/download/ipinfo.country.mmdb
asn_db_url: https://github.com/P3TERX/GeoLite.mmdb/raw/download/GeoLite2-ASN.mmdb
proxy_latency_test_url: http://1.1.1.1/generate_204
direct_latency_test_url: http://connectivitycheck.platform.hicloud.com/generate_204
compat_route: false
dns:
  bootstrap:
  - system
policy_groups:
- auto_test:
    name: æœ€ä¼˜é€‰æ‹©
    policies:
    - è¿œç¨‹è®¢é˜…
    flatten: true
    filter: ^(?=.*(ç¾å›½|æ–°åŠ å¡|æ—¥æœ¬))(?!.*(é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|åŸŸå|ç§’|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|é˜²å¤±è”|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|åˆ°æœŸ|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|ç¾¤|è´©å–|é€šçŸ¥|å€’å–|å‡|å»¶è¿Ÿ|æ— æ³•ä½¿ç”¨|è½¯ä»¶å†…æ›´æ–°è®¢é˜…|åœ¨å®˜ç½‘æŸ¥çœ‹é—®é¢˜|é˜²æ­¢|è¯·|æ›´æ–°|å›½å†…|åŠ å…¥)).*
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png
    hidden: true
- select:
    name: ç¯æ¸¸ä¸–ç•Œ
    policies:
    - æœ€ä¼˜é€‰æ‹©
    - è¿œç¨‹è®¢é˜…
    flatten: false
    icon: https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/erdongchanyo/xqcloud.jpeg
    hidden: false
- external:
    name: è¿œç¨‹è®¢é˜…
    type: select
    urls:
    filter: ^(?!.*(é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|åŸŸå|ç§’|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|é˜²å¤±è”|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|åˆ°æœŸ|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|ç¾¤|è´©å–|é€šçŸ¥|å€’å–|å‡|å»¶è¿Ÿ|æ— æ³•ä½¿ç”¨|è½¯ä»¶å†…æ›´æ–°è®¢é˜…|åœ¨å®˜ç½‘æŸ¥çœ‹é—®é¢˜|é˜²æ­¢|è¯·|æ›´æ–°|ç§’|å›½å†…|åŠ å…¥)).*
    icon: https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/Twoandz9/Bigairport.png
    hidden: false
rules:
- rule_set:
    match: https://raw.githubusercontent.com/GMOogway/shadowrocket-rules/master/sr_reject_list.module
    policy: REJECT-DROP
    disabled: false
- rule_set:
    match: https://raw.githubusercontent.com/GMOogway/shadowrocket-rules/master/sr_proxy_list.module
    policy: ç¯æ¸¸ä¸–ç•Œ
    disabled: false
- rule_set:
    match: https://raw.githubusercontent.com/GMOogway/shadowrocket-rules/master/sr_direct_list.module
    policy: DIRECT
    disabled: false
- rule_set:
    name: æ‹’ç»IOSæ›´æ–°
    match: https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/EgernSoftwareUpdates.yaml
    policy: REJECT
    update_interval: 86400
    disabled: false
- ip_cidr:
    match: 192.168.0.0/16
    policy: DIRECT
- ip_cidr:
    match: 10.0.0.0/8
    policy: DIRECT
- ip_cidr:
    match: 127.0.0.0/8
    policy: DIRECT
- ip_cidr:
    match: 172.16.0.0/12
    policy: DIRECT
- ip_cidr:
    match: 192.128.0.0/16
    policy: DIRECT
- ip_cidr:
    match: 224.0.0.0/24
    policy: DIRECT
- geoip:
    match: CN
    policy: DIRECT
    no_resolve: false
    disabled: false
- default:
    policy: ç¯æ¸¸ä¸–ç•Œ
mitm:
  enabled: true
  ca_passphrase: egern
modules:
- url: https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/Timecard/Moore/Timecard.sgmodule
  enabled: false
- url: https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/refs/heads/main/modules/script-hub.beta.surge.sgmodule
  enabled: false
