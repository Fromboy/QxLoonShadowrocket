# å®˜æ–¹æ–‡æ¡£ï¼šhttps://doc.egernapp.com
# Author: https://github.com/Repcz
# TG: https://t.me/QVQ_Channel
# æœ€åæ›´æ–°æ—¶é—´: 2025-09-11
# Egern Version â‰¥ v2.0.0(552)
# Egern ç®€æ´é…ç½®ï¼Œåªæœ‰å›½å†…ğŸ‡¨ğŸ‡³å’Œä»£ç†ğŸŒ 
# åˆ†æµåº“ = https://github.com/Repcz/Tool/tree/X/Egern/Rules
# åœ¨æ‰‹åŠ¨ç­–ç•¥ã€Šã€ˆ æ·»åŠ URLå“ªé‡Œå¡«å†™è‡ªå·±çš„è®¢é˜… ã€‰ã€‹å“ªé‡Œâœï¸è‡ªå·±çš„æœºåœºè®¢é˜…åœ°å€å¼€å§‹æ„‰å¿«çš„å†²æµªå§
# Egern url = https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/Egern.yaml
# Egernsmall url = https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/EgernSmall.yaml
# Egern Lite url = https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/EgernLite.yaml
# Egern- Auto url = https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/Egern-Auto.yaml
# ================================

# ipv6 é»˜è®¤å…³é—­
ipv6: false
# http ä»£ç†ç«¯å£
http_port: 3080
# socks 5ä»£ç†ç«¯å£
socks_port: 3090
# å¤–éƒ¨ä»£ç†æ‰“å¼€
allow_external_connections: true
 # tunæ¨¡å¼é»˜è®¤æ‰“å¼€
vif_only: true
# æ‹¦æˆªdns
hijack_dns:
- '*:53'
# geoipåœ°å€ğŸ‡¨ğŸ‡³
geoip_db_url: https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# asnåœ°å€ğŸ‡¨ğŸ‡³
asn_db_url: https://raw.githubusercontent.com/Loyalsoldier/geoip/release/GeoLite2-ASN.mmdb
# ä»£ç†å’Œå†…ç½‘é€Ÿæµ‹è¯•åœ°å€
proxy_latency_test_url: http://www.google.com/generate_204
direct_latency_test_url: http://connectivitycheck.platform.hicloud.com/generate_204
# dnsé…ç½®
dns:
  bootstrap:
    - system
  upstreams:
    Domestic-DNS:
    - 223.5.5.5
    - 119.29.29.29
    Foreign-DNS:
    - 1.1.1.1
    - 8.8.8.8
  forward:
  - wildcard:
      match: '*.cn'
      value: Domestic-DNS
  - wildcard:
      match: '*'
      value: Foreign-DNS
  hosts:
    # App Store ä¸‹è½½è¯·æ±‚è§£æ é‡‘å±±CDN
    iosapps.itunes.apple.com:
    - iosapps.itunes.apple.com.download.ks-cdn.com
# äº’è”ç½‘IPæŸ¥è¯¢
    public_ip_lookup_url: https://ifconfig.me/ip


# ç­–ç•¥ç»„é…ç½®
policy_groups:
- select:
    name: æ¼ç½‘ä¹‹é±¼
    policies:
    - DIRECT
    - ç¾å›½èŠ‚ç‚¹
    - ç‹®ç§°èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    flatten: false
    icon: https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/softlyx/Nijigen1.png
    hidden: false
- select:
    name: å‡ºå›½çœ‹çœ‹
    policies:
    - æ‰‹åŠ¨é€‰æ‹©
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®ç§°èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    flatten: false
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png
    hidden: false
- auto_test:
    name: é¦™æ¸¯èŠ‚ç‚¹
    policies:
    - æ‰‹åŠ¨é€‰æ‹©
    flatten: true
    filter: (?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)
    tolerance: 50
    timeout: 3
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png
    hidden: true
- auto_test:
    name: å°æ¹¾èŠ‚ç‚¹
    policies:
    - æ‰‹åŠ¨é€‰æ‹©
    flatten: true
    filter: (?i)ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\b)
    tolerance: 0
    timeout: 3
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/China.png
    hidden: true
- auto_test:
    name: ç¾å›½èŠ‚ç‚¹
    policies:
    - æ‰‹åŠ¨é€‰æ‹©
    flatten: true
    filter: (?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ´›æ‰çŸ¶|åœ£ä½•å¡|(\b(US|United States)\b)
    tolerance: 0
    timeout: 3
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png
    hidden: true
- auto_test:
    name: æ—¥æœ¬èŠ‚ç‚¹
    policies:
    - æ‰‹åŠ¨é€‰æ‹©
    flatten: true
    filter: (?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|ä¸œäº¬|(\b(JP|Japan)\b)
    tolerance: 50
    timeout: 3
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png
    hidden: true
- auto_test:
    name: éŸ©å›½èŠ‚ç‚¹
    policies:
    - æ‰‹åŠ¨é€‰æ‹©
    flatten: true
    filter: (?i)ğŸ‡°ğŸ‡·|éŸ©å›½|é¦–å°”|(\b(KR|Korea)\b)
    tolerance: 50
    timeout: 3
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/South_Korea.png
    hidden: true
- auto_test:
    name: ç‹®ç§°èŠ‚ç‚¹
    policies:
    - æ‰‹åŠ¨é€‰æ‹©
    flatten: true
    filter: (?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b)
    tolerance: 50
    timeout: 3
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png
    hidden: true
- external:
    name: æ‰‹åŠ¨é€‰æ‹©
    type: select
    urls:
    filter: ^(?!.*(é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|é˜²å¤±è”|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|åˆ°æœŸ|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|ç¾¤|è´©å–|é€šçŸ¥|å€’å–|å‡|å»¶è¿Ÿ|æ— æ³•ä½¿ç”¨|è½¯ä»¶å†…æ›´æ–°è®¢é˜…|åœ¨å®˜ç½‘æŸ¥çœ‹é—®é¢˜|é˜²æ­¢|è¯·|æ›´æ–°|ç§’|å›½å†…|åŠ å…¥)).*
    update_interval: 21600
    icon: https://github.com/Repcz/Repcz.github.io/raw/main/docs/egern/Photo/Egern.png
    hidden: false
rules:
- rule_set:
    match: https://cdn.jsdelivr.net/gh/Repcz/Tool@X/Egern/Rules/Reject.yaml
    policy: REJECT
    update_interval: 21600
- rule_set:
    name: æ‹’ç»IOSæ›´æ–°
    match: https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/EgernSoftwareUpdates.yaml
    policy: REJECT
    update_interval: 86400
    disabled: false
- rule_set:
    name: AIäººå·¥æ™ºèƒ½
    match: https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/EgernAI.yaml
    policy: æ‰‹åŠ¨é€‰æ‹©
    update_interval: 86400
    disabled: false
- rule_set:
    match: https://cdn.jsdelivr.net/gh/Repcz/Tool@X/Egern/Rules/Direct.yaml
    policy: DIRECT
    update_interval: 21600
- rule_set:
    match: https://cdn.jsdelivr.net/gh/Repcz/Tool@X/Egern/Rules/ProxyGFW.yaml
    policy: å‡ºå›½çœ‹çœ‹
    update_interval: 21600
- rule_set:
    match: https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/EgernLAN.yaml
    policy: DIRECT
    update_interval: 86400
    disabled: false
- geoip:
    match: CN
    policy: DIRECT
- default:
    policy: æ¼ç½‘ä¹‹é±¼
mitm:
  enabled: true
  ca_p12: 
  ca_passphrase: egern
