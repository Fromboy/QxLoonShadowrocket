# å®˜æ–¹æ–‡æ¡£ï¼šhttps://doc.egernapp.com
# Author: https://github.com/Repcz
# TG: https://t.me/QVQ_Channel
# æœ€åŽæ›´æ–°æ—¶é—´: 2025-09-11
# Egern Version â‰¥ v2.0.0(552)
# Egern ç®€æ´é…ç½®ï¼Œåªæœ‰å›½å†…ðŸ‡¨ðŸ‡³å’Œä»£ç†ðŸŒ 
# åˆ†æµåº“ = https://github.com/Repcz/Tool/tree/X/Egern/Rules
# åœ¨æ‰‹åŠ¨ç­–ç•¥ã€Šã€ˆ æ·»åŠ URLå“ªé‡Œå¡«å†™è‡ªå·±çš„è®¢é˜… ã€‰ã€‹å“ªé‡Œâœï¸è‡ªå·±çš„æœºåœºè®¢é˜…åœ°å€å¼€å§‹æ„‰å¿«çš„å†²æµªå§
# Egern url = https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/Egern.yaml
# Egernsmall url = https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/Egernsmall.yaml
# Egern Lite url = https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/EgernLite.yaml
# Egern- Auto url = https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/Egern-Auto.yaml
# ================================

# > < tun æ¨¡å¼,é»˜è®¤æ‰“å¼€
vif_only: true
# > < geoip åœ°å€
geoip_db_url: https://github.com/xream/geoip/releases/latest/download/ipinfo.country.mmdb
# > < asn åœ°å€
asn_db_url: https://github.com/P3TERX/GeoLite.mmdb/raw/download/GeoLite2-ASN.mmdb
# > < ä»£ç†å’Œè¿žé€šæ€§æµ‹è¯•åœ°å€
proxy_latency_test_url: http://1.1.1.1/cdn-cgi/trace
direct_latency_test_url: http://connectivitycheck.platform.hicloud.com/generate_204

compat_route: true
# > < dns é…ç½®
dns:
  bootstrap:
  - system
policy_groups:
- select:
    name: PROXY
    policies:
    - è®¢é˜…
    flatten: true
    hidden: false
- external:
    name: è®¢é˜…
    type: fallback
    urls:
    - è¿™é‡Œå¡«ä½ çš„æœºåœºè®¢é˜…åœ°å€ ç„¶åŽåœ¨ç‚¹å³ä¸Šè§’ä¿å­˜
    filter: ^(?!.*(é‚€è¯·|è¿”åˆ©|å¾ªçŽ¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|èŽ·å–|è®¢é˜…|é˜²å¤±è”|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|åˆ°æœŸ|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|ç¾¤|è´©å–|é€šçŸ¥|å€’å–|å‡|å»¶è¿Ÿ|æ— æ³•ä½¿ç”¨|è½¯ä»¶å†…æ›´æ–°è®¢é˜…|åœ¨å®˜ç½‘æŸ¥çœ‹é—®é¢˜|é˜²æ­¢|è¯·|æ›´æ–°|ç§’|å›½å†…|åŠ å…¥)).*
    hidden: true
# > < è§„åˆ™é…ç½®
rules:
- rule_set:
    match: https://raw.githubusercontent.com/GMOogway/shadowrocket-rules/master/sr_reject_list.module
    policy: REJECT-DROP
    disabled: false
- rule_set:
    match: https://raw.githubusercontent.com/GMOogway/shadowrocket-rules/master/sr_proxy_list.module
    policy: PROXY
    disabled: false
- rule_set:
    match: https://raw.githubusercontent.com/GMOogway/shadowrocket-rules/master/sr_direct_list.module
    policy: DIRECT
    disabled: false
- rule_set:
    name: æ‹’ç»IOSæ›´æ–°
    match: https://raw.githubusercontent.com/Fromboy/QxLoonShadowrocket/refs/heads/Egern/EgernSoftwareUpdates.yaml
    policy: REJECT
    update_interval: 86400
    disabled: false
- ip_cidr:
    match: 192.168.0.0/16
    policy: DIRECT
- ip_cidr:
    match: 10.0.0.0/8
    policy: DIRECT
- ip_cidr:
    match: 127.0.0.0/8
    policy: DIRECT
- ip_cidr:
    match: 172.16.0.0/12
    policy: DIRECT
- ip_cidr:
    match: 192.128.0.0/16
    policy: DIRECT
- ip_cidr:
    match: 224.0.0.0/24
    policy: DIRECT
- geoip:
    match: CN
    policy: DIRECT
    no_resolve: false
    disabled: false
- default:
    policy: PROXY
scriptings:
- schedule:
mitm:
  enabled: true
  ca_passphrase: egern
modules:
- url: https://raw.githubusercontent.com/Rabbit-Spec/Surge/Master/Module/Panel/Timecard/Moore/Timecard.sgmodule
  enabled: false
- url: https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/refs/heads/main/modules/script-hub.beta.surge.sgmodule
  enabled: false
